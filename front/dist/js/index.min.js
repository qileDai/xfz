function Banner(){this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-ul"),this.liList=this.bannerUl.children("li"),this.bannerLiCount=this.liList.length,this.bannerWidth=798,this.pagControl=$(".page-control")}function Index(){this.category_id=0,this.page=2}Banner.prototype.lsitenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.toggleArrow=function(n){var t=this;n?(t.leftArrow.show(),t.rightArrow.show()):(t.leftArrow.hide(),t.rightArrow.hide())},Banner.prototype.loop=function(){var n=this;$("#banner-ul");this.timer=setInterval(function(){n.index>=n.bannerLiCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.anamite()},2e3)},Banner.prototype.run=function(){this.initBanneer(),this.loop(),this.listArrowClick(),this.initPageControl(),this.lsitenBannerHover(),this.lsitPageControl()},Banner.prototype.anamite=function(){var n=this,t=n.index;t=0===t?n.bannerLiCount-1:t===n.bannerLiCount+1?0:n.index-1,$("#banner-ul").stop().animate({left:-798*n.index},500),n.pagControl.children("li").eq(t).addClass("active").siblings().removeClass("active")},Banner.prototype.lsitPageControl=function(){var e=this;$("#banner-ul");e.pagControl.children("li").each(function(n,t){$(t).click(function(){e.index=n+1,e.anamite()})})},Banner.prototype.initPageControl=function(){for(var n=this,t=0;t<n.bannerLiCount;t++){var e=$("<li></li>");n.pagControl.append(e),0===t&&e.addClass("active")}n.pagControl.css({width:12*n.bannerLiCount+16+16*(n.bannerLiCount-1)})},Banner.prototype.initBanneer=function(){var n=this,t=n.liList.eq(0).clone(),e=n.liList.eq(n.bannerLiCount-1).clone();n.bannerUl.append(t),n.bannerUl.append(e),n.bannerUl.css({width:n.bannerWidth*(n.bannerLiCount+2),left:-n.bannerWidth})},Banner.prototype.listArrowClick=function(){var n=this;$("#banner-ul");n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:n.bannerWidth*n.bannerLiCount}),n.index=n.bannerLiCount-1):n.index--,n.anamite()}),n.rightArrow.click(function(){n.index===n.bannerLiCount+1?(n.bannerUl.css({left:n.bannerWidth}),n.index=2):n.index++,n.anamite()})},Index.prototype.listLoadMoreEvent=function(){var i=this;i.categroy_id=0;var r=$("#load-more");r.click(function(){xfzajax.get({url:"/news/news_list/",data:{p:i.page,categroy_id:i.categroy_id},success:function(n){if(200===n.code){var t=n.data;if(console.log(t),0<t.length){var e=template("news-item",{newses:t});$(".list-inner-group").append(e),i.page+=1}else r.hide()}}})})},Index.prototype.listCategrySwichEvent=function(){var o=this;$(".list-tab").children().click(function(){var r=$(this),a=r.attr("data-categroy");console.log(a);xfzajax.get({url:"/news/news_list/",data:{categroy_id:a,p:1},success:function(n){if(200===n.code){var t=n.data,e=template("news-item",{newses:t}),i=$(".list-inner-group");i.empty(),i.append(e),o.page=2,o.categroy_id=a,r.addClass("active").siblings().removeClass("active"),$("#load-more").show()}}})})},Index.prototype.run=function(){this.listLoadMoreEvent(),this.listCategrySwichEvent()},$(function(){(new Banner).run(),(new Index).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJHcm91cCIsIiQiLCJpbmRleCIsImxlZnRBcnJvdyIsInJpZ2h0QXJyb3ciLCJiYW5uZXJVbCIsImxpTGlzdCIsImNoaWxkcmVuIiwiYmFubmVyTGlDb3VudCIsImxlbmd0aCIsImJhbm5lcldpZHRoIiwicGFnQ29udHJvbCIsIkluZGV4IiwiY2F0ZWdvcnlfaWQiLCJwYWdlIiwicHJvdG90eXBlIiwibHNpdGVuQmFubmVySG92ZXIiLCJzZWxmIiwiaG92ZXIiLCJjbGVhckludGVydmFsIiwidGltZXIiLCJ0b2dnbGVBcnJvdyIsImxvb3AiLCJpc1Nob3ciLCJzaG93IiwiaGlkZSIsInNldEludGVydmFsIiwiY3NzIiwibGVmdCIsImFuYW1pdGUiLCJydW4iLCJpbml0QmFubmVlciIsImxpc3RBcnJvd0NsaWNrIiwiaW5pdFBhZ2VDb250cm9sIiwibHNpdFBhZ2VDb250cm9sIiwic3RvcCIsImFuaW1hdGUiLCJlcSIsImFkZENsYXNzIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImVhY2giLCJvYmoiLCJjbGljayIsImkiLCJjaXJjbGUiLCJhcHBlbmQiLCJ3aWR0aCIsImZpcnN0QmFubmVyIiwiY2xvbmUiLCJsYXN0QmFubmVyIiwibGlzdExvYWRNb3JlRXZlbnQiLCJjYXRlZ3JveV9pZCIsImxvYWRidG4iLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInAiLCJzdWNjZXNzIiwicmVzdWx0IiwibmV3ZXMiLCJjb25zb2xlIiwibG9nIiwidHBsIiwidGVtcGxhdGUiLCJuZXdzZXMiLCJsaXN0Q2F0ZWdyeVN3aWNoRXZlbnQiLCJsaSIsImF0dHIiLCJuZXdzTGlzdEdyb3VwIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUlBLFNBQVNBLFNBQ0xDLEtBQUtDLFlBQWNDLEVBQUUsaUJBQ3JCRixLQUFLRyxNQUFRLEVBRWJILEtBQUtJLFVBQVlGLEVBQUUsZUFDbkJGLEtBQUtL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QUNOQyxLQUFPLENBQ0hMLFlBQWNBLEVBQ2RNLEVBTkcsR0FRUEMsUUFBVSxTQUFVQyxHQUNoQixHQUFxQixNQUFsQkEsRUFBYSxLQUFTLENBQ3JCLElBQUlDLEVBQVFELEVBQWEsS0FDckJJLEVBQU1DLFNBQVMsWUFBYSxDQUFDQyxPQUFVTCxJQUN2Q1MsRUFBZ0JyRSxFQUFFLHFCQUN0QnFFLEVBQWNDLFFBQ2RELEVBQWN4QixPQUFPa0IsR0FDckIvQyxFQUFLSCxLQUFPLEVBQ1pHLEVBQUttQyxZQUFjQSxFQUNuQmdCLEVBQUc5QixTQUFTLFVBQVVDLFdBQVdDLFlBQVksVUFDL0J2QyxFQUFFLGNBQ1J1QixjQVM1QlosTUFBTUcsVUFBVWUsSUFBTSxXQUNQL0IsS0FDTm9ELG9CQURNcEQsS0FFTm9FLHlCQUdUbEUsRUFBRSxZQUNlLElBQUlILFFBQ1ZnQyxPQUVLLElBQUlsQixPQUNWa0IiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQWRtaW5pc3RyYXRvciBvbiAyMDE4LzgvMTYuXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gQmFubmVyKCkge1xyXG4gICAgdGhpcy5iYW5uZXJHcm91cCA9ICQoXCIjYmFubmVyLWdyb3VwXCIpO1xyXG4gICAgdGhpcy5pbmRleCA9IDE7XHJcblxyXG4gICAgdGhpcy5sZWZ0QXJyb3cgPSAkKFwiLmxlZnQtYXJyb3dcIik7XHJcbiAgICB0aGlzLnJpZ2h0QXJyb3cgPSAkKFwiLnJpZ2h0LWFycm93XCIpO1xyXG4gICAgdGhpcy5iYW5uZXJVbCA9ICQoXCIjYmFubmVyLXVsXCIpO1xyXG4gICAgdGhpcy5saUxpc3QgPSB0aGlzLmJhbm5lclVsLmNoaWxkcmVuKFwibGlcIik7XHJcbiAgICB0aGlzLmJhbm5lckxpQ291bnQgPSB0aGlzLmxpTGlzdC5sZW5ndGg7XHJcbiAgICB0aGlzLmJhbm5lcldpZHRoID0gNzk4O1xyXG4gICAgdGhpcy5wYWdDb250cm9sID0gJChcIi5wYWdlLWNvbnRyb2xcIik7XHJcblxyXG5cclxufVxyXG5CYW5uZXIucHJvdG90eXBlLmxzaXRlbkJhbm5lckhvdmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5iYW5uZXJHcm91cC5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChzZWxmLnRpbWVyKTtcclxuICAgICAgICBzZWxmLnRvZ2dsZUFycm93KHRydWUpO1xyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYubG9vcCgpO1xyXG4gICAgICAgIHNlbGYudG9nZ2xlQXJyb3coZmFsc2UpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLnRvZ2dsZUFycm93ID0gZnVuY3Rpb24gKGlzU2hvdykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgaWYgKGlzU2hvdykge1xyXG4gICAgICAgIHNlbGYubGVmdEFycm93LnNob3coKTtcclxuICAgICAgICBzZWxmLnJpZ2h0QXJyb3cuc2hvdygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzZWxmLmxlZnRBcnJvdy5oaWRlKCk7XHJcbiAgICAgICAgc2VsZi5yaWdodEFycm93LmhpZGUoKTtcclxuICAgIH1cclxuXHJcblxyXG59O1xyXG5CYW5uZXIucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYmFubmVydWwgPSAkKFwiI2Jhbm5lci11bFwiKTtcclxuICAgIC8vIGJhbm5lcnVsLmNzcygoXCJsZWZ0XCI6LTc5OCkpO1xyXG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pbmRleCA+PSBzZWxmLmJhbm5lckxpQ291bnQgKyAxKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjogLXNlbGYuYmFubmVyV2lkdGh9KTtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IDI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCsrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5hbmFtaXRlKCk7XHJcbiAgICB9LCAyMDAwKVxyXG59O1xyXG5CYW5uZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuaW5pdEJhbm5lZXIoKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwicnVuaW5pbmcgLi4uXCIpO1xyXG4gICAgc2VsZi5sb29wKCk7XHJcbiAgICB0aGlzLmxpc3RBcnJvd0NsaWNrKCk7XHJcbiAgICB0aGlzLmluaXRQYWdlQ29udHJvbCgpO1xyXG4gICAgdGhpcy5sc2l0ZW5CYW5uZXJIb3ZlcigpO1xyXG4gICAgdGhpcy5sc2l0UGFnZUNvbnRyb2woKTtcclxufTtcclxuQmFubmVyLnByb3RvdHlwZS5hbmFtaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGluZGV4ID0gc2VsZi5pbmRleDtcclxuICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgIGluZGV4ID0gc2VsZi5iYW5uZXJMaUNvdW50IC0gMTtcclxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHNlbGYuYmFubmVyTGlDb3VudCArIDEpIHtcclxuICAgICAgICBpbmRleCA9IDA7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpbmRleCA9IHNlbGYuaW5kZXggLSAxXHJcbiAgICB9XHJcbiAgICB2YXIgYmFubmVydWwgPSAkKFwiI2Jhbm5lci11bFwiKTtcclxuICAgIGJhbm5lcnVsLnN0b3AoKS5hbmltYXRlKHtcImxlZnRcIjogLTc5OCAqIHNlbGYuaW5kZXh9LCA1MDApO1xyXG4gICAgc2VsZi5wYWdDb250cm9sLmNoaWxkcmVuKFwibGlcIikuZXEoaW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG59XHJcbkJhbm5lci5wcm90b3R5cGUubHNpdFBhZ2VDb250cm9sID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGJhbm5lcnVsID0gJChcIiNiYW5uZXItdWxcIik7XHJcbiAgICBzZWxmLnBhZ0NvbnRyb2wuY2hpbGRyZW4oXCJsaVwiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgb2JqKSB7XHJcbiAgICAgICAgJChvYmopLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgLy8gYmFubmVydWwuYW5pbWF0ZSh7XCJsZWZ0XCI6LTc5OCpzZWxmLmluZGV4fSw1MDApO1xyXG4gICAgICAgICAgICBzZWxmLmFuYW1pdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pXHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmluaXRQYWdlQ29udHJvbCA9IGZ1bmN0aW9uXHJcbiAgICAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmJhbm5lckxpQ291bnQ7IGkrKykge1xyXG4gICAgICAgIHZhciBjaXJjbGUgPSAkKFwiPGxpPjwvbGk+XCIpXHJcbiAgICAgICAgc2VsZi5wYWdDb250cm9sLmFwcGVuZChjaXJjbGUpO1xyXG4gICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNpcmNsZS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZWxmLnBhZ0NvbnRyb2wuY3NzKHtcIndpZHRoXCI6IHNlbGYuYmFubmVyTGlDb3VudCAqIDEyICsgOCAqIDIgKyAxNiAqIChzZWxmLmJhbm5lckxpQ291bnQgLSAxKX0pO1xyXG5cclxufTtcclxuQmFubmVyLnByb3RvdHlwZS5pbml0QmFubmVlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB2YXIgZmlyc3RCYW5uZXIgPSBzZWxmLmxpTGlzdC5lcSgwKS5jbG9uZSgpO1xyXG4gICAgdmFyIGxhc3RCYW5uZXIgPSBzZWxmLmxpTGlzdC5lcShzZWxmLmJhbm5lckxpQ291bnQgLSAxKS5jbG9uZSgpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5hcHBlbmQoZmlyc3RCYW5uZXIpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5hcHBlbmQobGFzdEJhbm5lcik7XHJcbiAgICBzZWxmLmJhbm5lclVsLmNzcyh7XHJcbiAgICAgICAgXCJ3aWR0aFwiOiBzZWxmLmJhbm5lcldpZHRoICogKHNlbGYuYmFubmVyTGlDb3VudCArIDIpLFxyXG4gICAgICAgIFwibGVmdFwiOiAtc2VsZi5iYW5uZXJXaWR0aFxyXG4gICAgfSk7XHJcblxyXG5cclxufTtcclxuQmFubmVyLnByb3RvdHlwZS5saXN0QXJyb3dDbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBiYW5uZXJ1bCA9ICQoXCIjYmFubmVyLXVsXCIpO1xyXG4gICAgc2VsZi5sZWZ0QXJyb3cuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChzZWxmLmluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjogc2VsZi5iYW5uZXJXaWR0aCAqIHNlbGYuYmFubmVyTGlDb3VudH0pO1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4ID0gc2VsZi5iYW5uZXJMaUNvdW50IC0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4LS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5hbWl0ZSgpO1xyXG4gICAgfSk7XHJcbiAgICBzZWxmLnJpZ2h0QXJyb3cuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChzZWxmLmluZGV4ID09PSBzZWxmLmJhbm5lckxpQ291bnQgKyAxKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjogc2VsZi5iYW5uZXJXaWR0aH0pO1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4ID0gMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5hbWl0ZSgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBJbmRleCgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuY2F0ZWdvcnlfaWQgPSAwO1xyXG4gICAgc2VsZi5wYWdlID0gMjtcclxuXHJcblxyXG59O1xyXG5cclxuSW5kZXgucHJvdG90eXBlLmxpc3RMb2FkTW9yZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICBzZWxmLmNhdGVncm95X2lkID0gMDtcclxuICAgIHZhciBsb2FkYnRuID0gJCgnI2xvYWQtbW9yZScpO1xyXG4gICAgbG9hZGJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvbmV3cy9uZXdzX2xpc3QvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAncCc6IHNlbGYucGFnZSxcclxuICAgICAgICAgICAgICAgICdjYXRlZ3JveV9pZCc6c2VsZi5jYXRlZ3JveV9pZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdlcyA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld2VzKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZShcIm5ld3MtaXRlbVwiLCB7J25ld3Nlcyc6IG5ld2VzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bCA9ICQoJy5saXN0LWlubmVyLWdyb3VwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVsLmFwcGVuZCh0cGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRidG4uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcbkluZGV4LnByb3RvdHlwZS5saXN0Q2F0ZWdyeVN3aWNoRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdGFibGVHcm91cCA9ICQoJy5saXN0LXRhYicpO1xyXG4gICAgdGFibGVHcm91cC5jaGlsZHJlbigpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGkgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBjYXRlZ3JveV9pZCA9IGxpLmF0dHIoJ2RhdGEtY2F0ZWdyb3knKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ3JveV9pZClcclxuICAgICAgICB2YXIgcGFnZSA9IDE7XHJcblxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6Jy9uZXdzL25ld3NfbGlzdC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICAgJ2NhdGVncm95X2lkJzpjYXRlZ3JveV9pZCxcclxuICAgICAgICAgICAgICAgICdwJzpwYWdlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09MjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3ZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoXCJuZXdzLWl0ZW1cIiwgeyduZXdzZXMnOiBuZXdlc30pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzTGlzdEdyb3VwID0gJChcIi5saXN0LWlubmVyLWdyb3VwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld3NMaXN0R3JvdXAuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdzTGlzdEdyb3VwLmFwcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXRlZ3JveV9pZCA9IGNhdGVncm95X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbG9hZGJ0biA9ICQoJyNsb2FkLW1vcmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2FkYnRuLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgbG9hZGJ0biA9ICQoJyNsb2FkLW1vcmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBsb2FkYnRuLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5JbmRleC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0TG9hZE1vcmVFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0Q2F0ZWdyeVN3aWNoRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJhbm5lciA9IG5ldyBCYW5uZXIoKTtcclxuICAgIGJhbm5lci5ydW4oKTtcclxuXHJcbiAgICB2YXIgaW5kZXggPSBuZXcgSW5kZXgoKTtcclxuICAgIGluZGV4LnJ1bigpO1xyXG5cclxufSk7Il19
